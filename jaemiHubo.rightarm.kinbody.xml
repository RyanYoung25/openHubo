<?xml version="1.0" encoding="utf-8"?>

<!-- Right arm kinematic tree -->
<!-- The torso is defined in multiple places, weventually need to find a good structure to join arms-->
<KinBody name="rightArm" makejoinedlinksadjacent="true">
<modelsdir>../exportedModels/openInventor</modelsdir>
    <Body name="Torso" type="dynamic">
        <Translation>0 -0.1425 0</Translation>
        <Geom type="trimesh" render="true">
            <Data>KHR-4_Torso.iv 0.001</Data>
            <render>KHR-4_Torso.iv    0.001</render>
        </Geom>
        <mass type="custom">
            <total>1</total>
        </mass>
    </Body>
    <Body name="rightArm1" type="dynamic">
        <offsetfrom>Torso</offsetfrom>
        <Translation>0.023 0.031 0.007</Translation>
        <Geom type="trimesh">
            <Data>right_shoulder_pitch.iv 0.001</Data>
            <Render>right_shoulder_pitch.iv 0.001</Render>
        </Geom>
        <mass type="custom">
            <total>1</total>
        </mass>
    </Body>
    <Joint name="RSP" type="hinge">
        <Body>Torso</Body>
        <Body>rightArm1</Body>
        <offsetfrom>rightArm1</offsetfrom>
        <axis>0 0 -1</axis>
        <!-- Settings from WAM, will need to be updated-->
        <limitsdeg>-150 150</limitsdeg>
        <maxvel>1</maxvel>
        <weight>1</weight>
        <resolution>0.25</resolution>
    </Joint>
    <Body name="rightArm2" type="dynamic">
        <offsetfrom>rightArm1</offsetfrom>
        <Translation>.025 .072 0</Translation>

        <Geom type="trimesh">
            <Data>right_shoulder_roll.iv 0.001</Data>
            <Render>right_shoulder_roll.iv 0.001</Render>
        </Geom>
        <mass type="custom">
            <total>1</total>
        </mass>
    </Body>
    <Joint name="RSR" type="hinge">
        <Body>rightArm1</Body>
        <Body>rightArm2</Body>
        <offsetfrom>rightArm1</offsetfrom>
        <axis>-1 0 0</axis>
        <limitsdeg>-113 113</limitsdeg>
        <weight>1</weight>
        <maxvel>1</maxvel>
        <resolution>0.5</resolution>
    </Joint>
    <Body name="rightArm3" type="dynamic">
        <offsetfrom>rightArm2</offsetfrom>
        <Translation>-0.0269 0.0 -0.0245</Translation>
        <Geom type="trimesh">
            <Data>right_shoulder_yaw.iv    0.001</Data>
            <Render>right_shoulder_yaw.iv    0.001</Render>
        </Geom>
        <mass type="custom">
            <total>1</total>
        </mass>
    </Body>
    <Joint name="RSY" type="hinge">
        <Body>rightArm2</Body>
        <Body>rightArm3</Body>
        <offsetfrom>rightArm2</offsetfrom>
        <axis>0 0 -1</axis>
        <limitsdeg>-157 157</limitsdeg>
        <weight>1</weight>
        <resolution>0.5</resolution>
    </Joint>
    <Body name="rightArm4" type="dynamic">
        <offsetfrom>rightArm3</offsetfrom>
        <Translation>.022279 -11.5 -154.441</Translation>
        <Geom type="trimesh">
            <Data>right_elbow_pitch.iv    0.001</Data>
            <Render>right_elbow_pitch.iv    0.001</Render>
        </Geom>
        <mass type="custom">
            <total>1</total>
        </mass>
    </Body>
    <Joint name="REP" type="hinge">
        <Body>rightArm3</Body>
        <Body>rightArm4</Body>
        <offsetfrom>rightArm3</offsetfrom>
        <axis>0 -1 0</axis>
        <limitsdeg>-20 160</limitsdeg>
        <weight>0.45504</weight>
        <maxvel>2.0944</maxvel>
        <resolution>.5</resolution>
    </Joint>
    <Body name="rightArm5" type="dynamic">
        <offsetfrom>rightArm4</offsetfrom>
        <Translation>-.022001 -.0115 -.041</Translation>
        <Geom type="trimesh">
            <Data>right_wrist_yaw.iv    0.001</Data>
            <Render>right_wrist_yaw.iv    0.001</Render>
        </Geom>
        <mass type="custom">
            <total>1.6015</total>
        </mass>
    </Body>
    <Joint name="RWY" type="hinge">
        <Body>rightArm4</Body>
        <Body>rightArm5</Body>
        <offsetfrom>rightArm4</offsetfrom>
        <axis>0 0 -1</axis>
        <limitsdeg>-160 160</limitsdeg>
        <weight>0.40141</weight>
        <maxvel>4.1888</maxvel>
        <resolution>1.11</resolution>
     </Joint>
    <Body name="right_ujoint" type="dynamic">
       <offsetfrom>rightArm5</offsetfrom> 
        <Translation>0 0 -.122</Translation> 
        <Geom type="trimesh">
            <Data>right_wrist_ujoint.iv    0.001</Data>
            <Render>right_wrist_ujoint.iv    0.001</Render>
        </Geom>
    </Body>
    <Joint name="RWR" type="hinge">
        <Body>rightArm5</Body>
        <Body>right_ujoint</Body>
        <offsetfrom>right_ujoint</offsetfrom>
        <axis>1 0 0</axis>
        <Weight>1</Weight>
    </Joint>

    <Body name="right_palm" type="dynamic">
       <offsetfrom>right_ujoint</offsetfrom> 
        <Translation>0 0 0</Translation> 
        <Geom type="trimesh">
            <Data>right_wrist_palm.iv    0.001</Data>
            <Render>right_wrist_palm.iv    0.001</Render>
        </Geom>
    </Body>
    <Joint name="RWP" type="hinge">
        <Body>right_palm</Body>
        <Body>right_ujoint</Body>
        <offsetfrom>right_ujoint</offsetfrom>
        <axis>0 1 0</axis>
        <Weight>1</Weight>
    </Joint>
</KinBody>
