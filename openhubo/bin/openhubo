#!/usr/bin/env python
from fnmatch import fnmatch
import os as _os
from openhubo import get_options
from  subprocess import call

def clear():
    _os.system('clear')

clear()
print "**************************************************************"
print "* OpenHubo python launcher for examples and interactive work *"
print "**************************************************************"
(options,scriptname)=get_options()

#Kludgy way to get ipython to launch with locals as interactive script
cmd=[]
cmd.append(options.interpreter)
if options.interact:
    cmd.append('-i')

if options.example:
    expath=_os.environ['OPENHUBO_DIR'] + '/examples/'
    for f in _os.listdir(expath):
        if fnmatch(f, options.example):
            print("Found example {}".format(f))
            examplefile=expath + f
            cmd.append(examplefile)
            break
elif scriptname:
    cmd.append(scriptname)
else:
    cmd.append(_os.environ['OPENHUBO_DIR'] + '/openhubo/_interactive.py')

if options.interpreter == 'ipython':
    cmd.append('--pylab')
    cmd.append('--no-banner')
    cmd.append('--no-confirm-exit')
call(cmd)
